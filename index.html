<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Frabio in ufficio</title>
    <style>
        /* ... (il CSS rimane invariato) ... */
    </style>
</head>
<body>
    <div id="gameContainer">
        <canvas id="gameCanvas" width="400" height="400"></canvas>
        <div id="gameInfo">
            <p>Punteggio: <span id="score">0</span></p>
        </div>
        <div id="message"></div>
        <div id="menuScreen">
            <h1>Frabio in ufficio</h1>
            <p>Aiuta Frabio a raccogliere tutte le croci evitando le galline!</p>
            <button id="startButton">Inizia Gioco</button>
        </div>
    </div>
    <div id="controls">
        <button id="up" class="control-btn">↑</button>
        <button id="left" class="control-btn">←</button>
        <button id="right" class="control-btn">→</button>
        <button id="down" class="control-btn">↓</button>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const messageEl = document.getElementById('message');
        const menuScreen = document.getElementById('menuScreen');
        const startButton = document.getElementById('startButton');

        const CELL_SIZE = 20;
        const GRID_WIDTH = 20;
        const GRID_HEIGHT = 20;

        let frabio, chickens, crosses, score;
        let gameRunning = false;
        let gameLoop;

        startButton.addEventListener('click', startGame);

        function startGame() {
            console.log("Funzione startGame chiamata"); // Debug log
            menuScreen.style.display = 'none';
            canvas.style.display = 'block';
            initGame();
            gameLoop = setInterval(runGameLoop, 200);
        }

        // ... (il resto del codice rimane invariato) ...

        // Nascondi il canvas inizialmente
        canvas.style.display = 'none';

        // Debug: Verifica che il pulsante sia correttamente selezionato
        console.log("Pulsante Inizia Gioco:", startButton);
    </script>
</body>
</html>
